{{page-title this.pageTitle}}

<h1>{{this.model.char_name}} Page Source</h1>

<div class="card card-default">
    <div class="card-heading">
        Other Versions &nbsp;
        <a data-bs-toggle="collapse" href="#history" class="btn btn-secondary btn-collapse">Show/Hide</a>
        
    </div>
    <div id="history" class="card-collapse collapse">
      <div class="card-body">
   
          <ol reversed>
              {{#each this.model.versions as |v|}}
    
              <li>
              <LinkTo @route="char-source" @models={{array this.model.char_id v.id}}>
              {{#if (eq v.id this.model.current_version)}}
              <i class="far fa-dot-circle fa-fw" aria-label="Current Version"></i>
              {{else}}
              <i class="far fa-circle fa-fw" aria-label="Other Version"></i>
              {{/if}}
    
              {{v.created}} - {{v.author}}
              </LinkTo>
              </li>
              {{/each}}
          </ol>
        </div>
    </div>
</div>

            
<div class="card card-default">
    <div class="card-heading">
        Selected Version &nbsp;
        <a data-bs-toggle="collapse" href="#source" class="btn btn-secondary btn-collapse">Show/Hide</a>
        
    </div>
    <div id="source" class="card-collapse collapse">
      <div class="card-body">
          <pre>
          {{this.model.text}}
          </pre>
      </div>
    </div>
</div>

{{#if this.model.diff}}

<div class="card card-default">
    <div class="card-heading">
        Compared to Previous Version
        &nbsp;
        <a data-bs-toggle="collapse" href="#compare" class="btn btn-secondary btn-collapse">Show/Hide</a>
        
    </div>
    <div id="compare" class="card-collapse collapse">
        <div class="card-body">
            {{{this.model.diff}}}
        </div>
    </div>
</div>

{{/if}}

{{outlet}}

<LinkTo @route="char" @model={{this.model.char_name}}><i class="fa fa-long-arrow-alt-left" aria-hidden="true"></i> Back to Page</LinkTo>