{{page-title pageTitle}}

<h1>{{model.char_name}} Page Source</h1>

<div class="panel panel-default">
    <div class="panel-heading">
        Other Versions &nbsp;
        <a data-toggle="collapse" href="#history" class="btn btn-default btn-collapse">Show/Hide</a>
        
    </div>
    <div id="history" class="panel-collapse collapse">
      <div class="panel-body">
   
          <ol>
              {{#each model.versions as |v|}}
    
              <li>
              <LinkTo @route="char-source" @models={{array model.char_id v.id}}>
              {{#if (eq v.id model.current_version)}}
              <i class="far fa-dot-circle fa-fw" aria-label="Current Version"></i>
              {{else}}
              <i class="far fa-circle fa-fw" aria-label="Other Version"></i>
              {{/if}}
    
              {{v.created}} - {{v.author}}
              </LinkTo>
              </li>
              {{/each}}
          </ol>
        </div>
    </div>
</div>

            
<div class="panel panel-default">
    <div class="panel-heading">
        Selected Version &nbsp;
        <a data-toggle="collapse" href="#source" class="btn btn-default btn-collapse">Show/Hide</a>
        
    </div>
    <div id="source" class="panel-collapse collapse">
      <div class="panel-body">
          <pre>
          {{model.text}}
          </pre>
      </div>
    </div>
</div>

{{#if model.diff}}

<div class="panel panel-default">
    <div class="panel-heading">
        Compared to Previous Version
        &nbsp;
        <a data-toggle="collapse" href="#compare" class="btn btn-default btn-collapse">Show/Hide</a>
        
    </div>
    <div id="compare" class="panel-collapse collapse">
        <div class="panel-body">
            {{{model.diff}}}
        </div>
    </div>
</div>

{{/if}}

<div class="row">
    <div class="col col-xs-12">
        <div class="pull-right">
      
      <LinkTo @route="char" @model={{model.char_id}}><i class="fa fa-long-arrow-alt-left" aria-hidden="true"></i> Back to Character</LinkTo>

  </div>
  </div>
</div>

{{outlet}}