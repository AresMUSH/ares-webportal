{{page-title this.model.heading}}
<h1>{{this.model.heading}} Source</h1>

<div class="panel panel-default">
    <div class="panel-heading">
        Other Versions
    </div>

<ol>
    {{#each this.model.versions as |v|}}
    <li>
     
     <LinkTo @route="wiki-source" @models={{array this.model.page_id v.id}}>
     {{#if (eq v.id this.model.version_id)}}
     <i class="far fa-dot-circle fa-fw" aria-label="Current Version"></i>
     {{else}}
     <i class="far fa-circle fa-fw" aria-label="Other Version"></i>
     {{/if}}
     
     {{v.created}} ({{v.author}})</LinkTo>
     </li>
    {{/each}}
</ol>

</div>

<div class="panel panel-default">
    <div class="panel-heading">
        Selected Version
    </div>
    <div class="panel-body">
        <pre>
        {{this.model.text}}
        </pre>
    </div>
</div>


{{#if this.model.diff}}

<div class="panel panel-default">
    <div class="panel-heading">
        Compared to Previous Version
        &nbsp;
        <a data-bs-toggle="collapse" href="#compare" class="btn btn-secondary btn-collapse">Show/Hide</a>
        
    </div>
    <div id="compare" class="panel-collapse collapse">
        <div class="panel-body">
            {{{this.model.diff}}}
        </div>
    </div>
</div>

{{/if}}

<div class="row">
    <div class="col col-xs-12">
        <div class="float-right">

  {{#if can_edit}}

        <button class="btn btn-secondary">Revert to This Version</button>
        
  {{/if}}
        
  </div>
  </div>
</div>

<LinkTo @route="wiki-page" @model={{this.model.name}}><i class="fa fa-long-arrow-alt-left" aria-hidden="true"></i> Back to Page</LinkTo>