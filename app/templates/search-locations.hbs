{{page-title "Search Locations"}}

<h1>Search Locations</h1>

<SearchBar />
  
<hr>

{{#if this.searchResults}}
<a data-bs-toggle="collapse" href="#searchFields" class="btn btn-secondary btn-collapse">Show/Hide Search</a>
{{/if}}

<div id="searchFields" class="card-collapse collapse {{if this.searchResults '' 'show'}}">

<div class="row">
  
  <div class="col col-xs-3">
    <label>Name:</label>
  </div>
  
  <div class="col col-xs-9">
        <p><Input @type="text" size={{25}} id="name" @value={{this.searchName}} @enter={{action "search"}} /></p>
  </div>
  
</div>
<div class="row">
  
  <div class="col col-xs-3">
    <label>Area:</label>
  </div>
  
  <div class="col col-xs-9">
        <p><Input @type="text" size={{25}} id="area" @value={{this.searchArea}} @enter={{action "search"}} /></p>
  </div>
  
</div>

<div class="row">
  
  <div class="col col-xs-3">
    <label>Owner:</label>
  </div>
  
  <div class="col col-xs-9">
        <p><Input @type="text" size={{25}} id="area" @value={{this.searchOwner}} @enter={{action "search"}} /></p>
  </div>
  
</div>


    
<div class="action-buttons">
    <button class="btn btn-secondary" {{action 'reset'}}>Reset</button>
    <button class="btn btn-primary" {{action 'search'}}>Search</button>
</div>

<p class="search-hint">Search is case-insensitive and matches ALL specified criteria.</p>

</div>

<hr>

<FlashMessages />

{{#if this.searchResults}}

<ul>
{{#each this.searchResults as |loc|}}
  {{#if loc.area_id}}
    <li><LinkTo @route="location" @model={{loc.id}}>{{loc.name_and_area}}</LinkTo></li>
  {{else}}
    <li><LinkTo @route="locations">{{loc.name_and_area}}</LinkTo></li>
  {{/if}}
{{/each}}
</ul>
    
{{else}}
<p>No search results.</p>
{{/if}}

{{outlet}}