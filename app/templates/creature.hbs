{{page-title this.model.creature.name}}
<h1>{{this.model.creature.name}}</h1>
<div class="ansi">

<LinkTo @route="creatures"><i class="fa fa-long-arrow-alt-left" aria-hidden="true"></i> Back to Cryptids</LinkTo>
<div class="action-buttons">
  <LinkTo @route="creature-edit" @model={{this.model.creature.id}} class="btn btn-secondary">Edit Cryptid</LinkTo>
</div>




  <div class="row profile-wrap creature-wrap">
    <div class="row" style="justify-content: space-between;">
      <div class="col-md-4 col-sm-12 col-xs-12 profile-image-wrap creature-image-wrap">
      {{#if this.model.creature.profile_image.name}}
        <LinkTo @route="file" @models={{array this.model.creature.profile_image.folder creature.profile_image.name}}>
            <img src="/game/uploads/{{this.model.creature.profile_image.path}}" alt="{{this.model.creature.name}}'s image"  class="profile-image">
        </LinkTo>
      {{else}}
          <!-- <img src="/game/uploads/theme_images/noicon.png" class="profile-image" alt="{{creature.name}}'s image"> -->
      {{/if}}
      </div>

      <div class="col-md-8 col-sm-12 col-xs-12 profile-demo-wrap infobox">
        <div class="infobox-heading">
          <div class="infobox-title-text">
            {{this.model.creature.name}}
            <div class="infobox-subtitle">
              {{#if this.model.creature.sapient}}
                Sapient
              {{else}}
                Non Sapient
              {{/if}}
            </div>
          </div>

        </div>

        <div class="infobox-body">
          {{#if this.model.creature.gms}}<i>For more information see {{#each this.model.creature.gms as |gm|}}
            <LinkTo @route="char" @model={{gm.name}}>{{gm.name}}</LinkTo>

          {{/each}} </i><br>{{/if}}

          {{#if this.model.creature.found}}<b>Found:</b>
          {{this.model.creature.found}}<br>{{/if}}

          <div class="row creature-stats">
            <div class="col-sm">
              <b>Height:</b> {{ansi-format text=this.model.creature.edit_height}}<br>
              <b>Length:</b> {{ansi-format text=this.model.creature.edit_length}}<br>
            </div>
            <div class="col-sm">
              <b>Speed:</b> {{ansi-format text=this.model.creature.edit_speed}}<br>
            </div>
          </div>

          {{#if this.model.creature.armor}}
            <div class="row creature-gear">
              {{#if this.model.creature.weapons}}
                <div class="col-sm">
                  <b>Weapons:</b>
                    <ul>
                    {{#each this.model.creature.weapons as |weapon|}}
                      <li>{{#link-to 'fs3combat-gear-detail' 'weapon' weapon}}{{weapon}}{{/link-to}}</li>
                    {{/each}}
                    </ul>
                </div>
              {{/if}}

              {{#if this.model.creature.armor}}
                <div class="col-sm">
                  <b>Armor:</b> {{#link-to 'fs3combat-gear-detail' 'armor' this.model.creature.armor}}{{this.model.creature.armor}}{{/link-to}}<br>
                </div>
              {{/if}}
            </div>
          {{/if}}
        </div>
      </div>

    </div>
    <div class="short-desc">
      <p>{{{ansi-format text=this.model.creature.short_desc}}}</p>
    </div>
  </div>

  {{#if this.model.creature.pinterest}}

    <div class="pinterest"> <a  data-pin-do="embedBoard" data-pin-board-width="400" data-pin-scale-height="500" data-pin-scale-width="115" href="{{this.model.creature.pinterest}}"></a></div>
  {{/if}}


  {{#if this.model.creature.traits}}
    <h2>Physical Traits & Description</h2>
    {{{ansi-format text=this.model.creature.traits}}}
  {{/if}}

  {{#if this.model.creature.sapient}}
    <Fs3AbilityTable @title="Stats" @list={{this.model.creature.stats}} @max={{10}} />
  {{/if}}

  {{#if this.model.creature.society}}
    <h2>Society & Relationships</h2>
    {{{ansi-format text=this.model.creature.society}}}
  {{/if}}

  {{#if this.model.creature.magical_abilities}}
    <h2>Magical Abilities & Preferences</h2>
    {{{ansi-format text=this.model.creature.magical_abilities}}}
  {{/if}}

    {{#if this.model.creature.combat}}
    <h2>Combat Abilities & Preferences</h2>
    {{{ansi-format text=this.model.creature.combat}}}
  {{/if}}

  {{#if this.model.creature.plots}}
    <h2>Plots</h2>
    <ul>
      {{#each this.model.creature.plots as |plot|}}
        <li><LinkTo @route="plot" @model={{plot.id}}>{{plot.title}}</LinkTo></li>
      {{/each}}
    </ul>
  {{/if}}

  {{#if this.model.creature.events}}
    <p><h2>Events</h2>
    {{{ansi-format text=this.model.creature.events}}}</p>
  {{/if}}


  <div class="card card-default profile-gallery creature-gallery">

  {{#if this.model.creature.display_image_gallery}}
    {{#each this.model.creature.display_image_gallery as |gallery|}}
      <LinkTo @route="file" @models={{array gallery.folder gallery.name}}>
      <img src="/game/uploads/{{gallery.path}}" alt="{{gallery.name}}" >
      </LinkTo>
    {{/each}}
  {{/if}}
  <div class="clearfix"></div>
  </div>


<h2>Scenes</h2>
<SceneList @scenes={{this.model.creature.scenes}} @pages={{this.model.creature.scenes.pages}} @sceneTypes={{this.model.sceneOptions.scene_types}} @filter={{filter}} @page={{page}} @filterChanged={{action "filterChanged"}} @goToPage={{action "goToPage"}}  />



  </div>
  <div class="row">
      <div class="col col-xs-12">
        <LinkTo @route="creatures"><i class="fa fa-long-arrow-alt-left" aria-hidden="true"></i> Back to Cryptids</LinkTo>
        <div class="action-buttons">
          <LinkTo @route="creature-edit" @model={{this.model.creature.id}} class="btn btn-secondary">Edit Cryptid</LinkTo>
        </div>
      </div>
  </div>
  <script async defer src="//assets.pinterest.com/js/pinit.js"></script>
