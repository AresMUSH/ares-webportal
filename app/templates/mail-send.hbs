{{page-title 'Send Mail'}}
<h1>Send Mail</h1>

<div class="form-group row">
    <div class="col-sm-2">
            <b>To:</b>
    </div>
    
    <div class="col-sm-10">
      
      <PowerSelectMultiple @selected={{this.toList}} @options={{this.model.characters}} @searchEnabled=true @searchField="name" @onChange={{action "toListChanged"}} as |char|>
        {{char.name}}
      </PowerSelectMultiple>
      
    </div>
</div>

<div class="form-group row">
    <div class="col-sm-2">
            <b>Subject:</b>
    </div>
    
    <div class="col-sm-10">
          <Input @type="text" size={{25}} id="subject" @value={{this.subject}} />
    </div>
</div>

<div class="form-group row">
    <div class="col-sm-2">
          <b>Send As:</b>
    </div>
    
    <div class="col-sm-10">
       <PowerSelect @selected={{this.sender}} @onChange={{action "senderChanged"}} @searchField="name" @options={{this.model.sendOptions.authorableChars}}  as |char|>
           <CharIconTiny @char={{char}} />
       </PowerSelect>
    </div>
</div>

         
<MarkdownEditor @text={{this.message}} />


<div class="action-buttons">
  <LinkTo @route="mail" class="btn btn-secondary">Cancel</LinkTo>
  <button {{action "sendMail"}} class="btn btn-primary">Send</button>
</div>

<FlashMessages />


{{outlet}}