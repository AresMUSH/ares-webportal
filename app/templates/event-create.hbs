{{page-title 'New Event'}}
<h1>New Event</h1>

  <div class="form-group row">
    <div class="col-sm-3">
      <label for="organizer" class="col-form-label">Organizer:</label>
    </div>

    <div class="col-sm-9">
      <PowerSelect aria-label="organizer" @selected={{this.organizer}} @options={{this.model.characters}} @searchEnabled=true @searchField="name" @onChange={{action "organizerChanged"}} as |char|>
        {{char.name}}
      </PowerSelect>
    </div>
  </div>
  
   <div class="form-group row">
    <div class="col-sm-3">
        <label for="title" class="col-form-label">Title:</label>
    </div>
    <div class="col-sm-9">
         <Input @type="text" size={{25}} id="title" @enter={{action "create"}} @value={{this.title}} />
    </div> 
  </div>
  
   <div class="form-group row">
    <div class="col-sm-3">
        <label for="date" class="col-form-label">Date:</label>
    </div>
    <div class="col-sm-9">  
             
             <EmberFlatpickr
               id="date"
               @date={{this.date}}
               @altInput={{true}}
               @altInputFormat="M/D/Y"
               @defaultDate="today"
               @dateFormat="M/D/Y"
               @inline={{true}}
               @mode="single"
               @onChange={{this.changeDate}}
             />
             
             
    </div> 
  </div>
  
   <div class="form-group row">
    <div class="col-sm-3">
        <label for="time" class="col-form-label">Start Time:</label>
    </div>
    <div class="col-sm-9">
         <Input @type="text" id="time" size="25" @enter={{action "create"}} @value={{this.time}} />
         
         <div class="hint">Use <b>server time</b> in the same format as the server time.  The server time format is {{this.model.app.server_time}}.</div>
    </div> 
  </div>
  
  
  
  <div class="form-group row">
     <div class="col-sm-3">
         <label for="content-warning" class="col-form-label">Content Warning:</label>
     </div>
     <div class="col-sm-9">
       <PowerSelectMultiple aria-label="content-warning" @selected={{this.warning_tags}} @options={{this.model.sceneOptions.content_warnings}} @onChange={{action "warningsChanged"}} as |warning|>
         {{warning}}
       </PowerSelectMultiple>
         <Input @type="text" size={{60}} id="warning" @enter={{action "create"}} @value={{this.content_warning}} />
            <p class="hint">Select from the suggested tags or write your own. Please avoid frivolous warnings.</p>
     </div>
   </div>
  
   <div class="form-group row">
    <div class="col-sm-3">
        <label for="tags" class="col-form-label">Tags:</label>
    </div>
    <div class="col-sm-9">
        <Input @type="text" size={{25}} id="tags" @enter={{action "create"}} @value={{this.tags}} />
    </div> 
  </div>
  
   <div class="form-group row">
    <div class="col-sm-3">
        <label for="warning" class="col-form-label">Description:</label>
    </div>
    <div class="col-sm-9">
         <MarkdownEditor @text={{this.description}} />
         
    </div> 
  </div>
  
     
<div class="action-buttons">
  <LinkTo @route="events" class="btn btn-secondary">Cancel</LinkTo>
  <button {{action "create"}} class="btn btn-primary">Create</button>
</div>

<FlashMessages />
